/*
 kl/editor-manager/plugins/gFontFamily.plugin.js
 License https://creativecommons.org/licenses/by-nc-nd/4.0/legalcode
 Copyright 2020 Lukas Wieditz
*/
(function(b){b(document).one("editor:start",function(){b.FE.DefineIcon("xfKLEMgFontFamily",{NAME:"google fab"});b.FE.RegisterCommand("gFontFamily",{title:"Google Font",icon:"xfKLEMgFontFamily",undo:!0,focus:!0,callback:function(){XF.EditorHelpers.loadDialog(this,"gfont")}});XF.EditorDialogGFont=XF.extend(XF.EditorDialog,{_beforeShow:function(a){b("#editor_kl_em_gfont_title").val("");b("#editor_kl_em_gfont_preview").css("font-family",!1)},_init:function(a){b("#editor_kl_em_gfont_form").submit(b.proxy(this,
"submit"))},submit:function(a){a.preventDefault();a=this.ed;var c=this.overlay;console.log(a);a.selection.restore();XF.EditorHelpers.insertKLEMgFontFamily(a,b("#editor_kl_em_gfont_title").val());c.hide()}});XF.EditorHelpers.dialogs.gfont=new XF.EditorDialogGFont("gfont");XF.EditorHelpers.insertKLEMgFontFamily=function(a,c){if(c){var d=c.replace(/\s/g,"+");a.format.applyStyle("font-family","'"+c+"'");b(a.selection.element()).before('<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family='+
d+'" />')}}})})(jQuery);