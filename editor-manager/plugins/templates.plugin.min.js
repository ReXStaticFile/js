/*
 kl/editor-manager/plugins/templates.plugin.js
 License https://creativecommons.org/licenses/by-nc-nd/4.0/legalcode
 Copyright 2020 Lukas Wieditz
*/
(function(a){(function(){var f='<ul class="fr-dropdown-list">';try{var b=a.parseJSON(a(".js-klEditorTemplates").first().html())||{}}catch(d){b=!1}console.log(b);if(b.length){a.FE.DefineIcon("klTemplates",{NAME:"clipboard"});a.FE.DefineIcon("klInsertTemplate",{NAME:"file-alt"});for(var g in b){var c=b[g];if(c.templates.length){f+='<li class="klEMTemplateGroupTitle">'+c.title+"</li>";for(var e in c.templates)f+='<li><a class="fr-command" data-cmd="klInsertTemplate-'+g+"-"+e+'">_ICO&nbsp;&nbsp;'+c.templates[e].title+
"</a></li>",function(d,h){a.FE.RegisterCommand(h,{undo:!0,focus:!0,icon:"klTemplates",callback:function(){this.html.insert(d.content)}})}(c.templates[e],"klInsertTemplate-"+g+"-"+e)}}(function(d){a.FE.RegisterCommand("klTemplates",{type:"dropdown",title:"Templates",icon:"klTemplates",undo:!1,focus:!0,html:function(){return d.replace(/_ICO/g,this.icon.create("klInsertTemplate"))}})})(f+"</ul>")}})()})(jQuery);