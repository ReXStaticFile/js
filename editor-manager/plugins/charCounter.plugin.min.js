/*
 froala_editor v3.2.3 (https://www.froala.com/wysiwyg-editor)
 License https://froala.com/wysiwyg-editor/terms/
 Copyright 2014-2020 Froala Labs
 Modified to support Word Counter, 2020 Lukas Wieditz
*/
!function(c,a){"object"==typeof exports&&"undefined"!=typeof module?a(require("froala-editor")):"function"==typeof define&&define.amd?define(["froala-editor"],a):a(c.FroalaEditor)}(this,function(c){c=c&&c.hasOwnProperty("default")?c["default"]:c;Object.assign(c.DEFAULTS,{charCounterMax:-1,charCounterCount:!0,charCounterMode:"letter"});c.PLUGINS.charCounter=function(a){function h(b){if(0>a.opts.charCounterMax||e()<a.opts.charCounterMax)return!0;var g=b.which;return!(!a.keys.ctrlKey(b)&&a.keys.isCharacter(g)||
g===c.KEYCODE.IME)||(b.preventDefault(),b.stopPropagation(),a.events.trigger("charCounter.exceeded"),!1)}function k(b){return 0>a.opts.charCounterMax?b:f("<div>").html(b).text().length+e()<=a.opts.charCounterMax?b:(a.events.trigger("charCounter.exceeded"),"")}function l(){if(a.opts.charCounterCount){var b=m[a.opts.charCounterMode]()+(0<a.opts.charCounterMax?"/"+a.opts.charCounterMax:"");d.text("".concat(a.language.translate("letter"===a.opts.charCounterMode?"Characters":"Words"),": ").concat(b));
a.opts.toolbarBottom&&d.css("margin-bottom",a.$tb.outerHeight(!0));b=a.$wp.get(0).offsetWidth-a.$wp.get(0).clientWidth;0<=b&&("rtl"==a.opts.direction?d.css("margin-left",b):d.css("margin-right",b))}}var d,f=a.$,e=function(){return(a.el.textContent||"").replace(/\u200B/g,"").length},m={letter:function(){return(a.el.textContent||"").replace(/\u200B/g,"").length},word:function(){return a.el.textContent?a.el.textContent.trim().replace(/\u200B/g,"").split(/\s+/).length:0}};return{_init:function(){return!!a.$wp&&
!!a.opts.charCounterCount&&((d=f(document.createElement("span")).attr("class","fr-counter")).css("bottom",a.$wp.css("border-bottom-width")),a.$second_tb&&a.$second_tb.append(d),a.events.on("keydown",h,!0),a.events.on("paste.afterCleanup",k),a.events.on("keyup contentChanged input",function(){a.events.trigger("charCounter.update")}),a.events.on("charCounter.update",l),a.events.trigger("charCounter.update"),void a.events.on("destroy",function(){f(a.o_win).off("resize.char".concat(a.id));d.removeData().remove();
d=null}))},count:e}}});