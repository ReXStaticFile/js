/*
 kl/editor-manager/layout.js
 License https://creativecommons.org/licenses/by-nc-nd/4.0/legalcode
 Copyright 2017 Lukas Wieditz
*/
(function(a,g,f,h){function d(){var e={},b;a(".ui-sortable").each(function(d,c){b=[];a(c).children().each(function(e,c){a(c).data("value")&&b.push(a(c).data("value"))});e[a(c).data("value")]=b});console.log(e);a("#layoutValue").val(JSON.stringify(e))}var c=!1;a(".ui-draggable-source .ui-draggable-element").draggable({cursor:"move",revert:"invalid",helper:"clone",connectToSortable:".ui-droppable",start:function(a,b){c=!0},stop:function(a,b){d()}});a(".ui-droppable").sortable({revert:!0,appendTo:f.body,
placeholder:"placeholder fr-command fr-btn",out:function(c,b){a(b.draggable).fadeOut(1E3,function(){a(this).remove()})},stop:function(a,b){b.item[0].style.cssText="";d()}}).droppable({greedy:!0});a("body").droppable({drop:function(a,b){c||(b.draggable.remove(),d());c=!1}})})($,window,document);