var themehouse=themehouse||{};themehouse.topics=themehouse.topics||{};themehouse.topics.activateFilter=function(){$(".th_topicsSearch input").off("keyup");$(".th_topicsSearch input").on("keyup",function(a){themehouse.topics.topicFilter(a)});$form=$(".th_topicsSearch").closest("form");$form.on("ajax-submit:before",function(a,d){$form=$(a.target);$topicFilter=$form.find(".th_topicsSearch input");$topicFilter.is(":focus")&&(d.preventSubmit=!0)})};
themehouse.topics.topicFilter=function(a){a=$(a.target).closest(".formRow--thTopics, .th_topics, .th_topicList");var d=a.find(".th_topicsSearch input").val().toLowerCase();0!==d.length?a.addClass("th_topicsSearch--filtered"):a.hasClass("th_topicsSearch--filtered")&&a.removeClass("th_topicsSearch--filtered");for(var e=[],h=0,f=a.find(".topic-filter-item"),c=0,g=f.length;c<g;c++){var b=$(f[c]),k=b.data("topic-title").toLowerCase();-1!==k.indexOf(d)?b.hasClass("topic-filter-item--hide")||(h++,b.hasClass("th_topicsSearch--hide")&&
e.push({ele:b,change:"remove"})):b.hasClass("th_topicsSearch--hide")||e.push({ele:b,change:"add"})}f=a.find(".forum-filter-item");c=0;for(g=f.length;c<g;c++)b=$(f[c]),k=b.data("forum-title").toLowerCase(),-1!==k.indexOf(d)?b.hasClass("forum-filter-item--hide")||(h++,b.hasClass("th_topicsSearch--hide")&&e.push({ele:b,change:"remove"})):b.hasClass("th_topicsSearch--hide")||e.push({ele:b,change:"add"});c=0;for(g=e.length;c<g;c++)d=e[c],"add"===d.change?d.ele.addClass("th_topicsSearch--hide"):"remove"===
d.change&&d.ele.removeClass("th_topicsSearch--hide");0===h?a.addClass("th_topics--noResults"):a.removeClass("th_topics--noResults")};"complete"===document.readyState&&themehouse.topics.activateFilter();$(document).ready(themehouse.topics.activateFilter());$(document.body).on("xf:layout",function(){themehouse.topics.activateFilter()});