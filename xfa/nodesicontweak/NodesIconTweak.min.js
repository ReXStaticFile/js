function XFANodesIconTweak_initFA(e,a){$("#"+e+"_layer_down_transform").change(a),$("#"+e+"_layer_down_animate").change(a),$("#"+e+"_layer_up_transform").change(a),$("#"+e+"_layer_up_animate").change(a),window[a]}function XFANodesIconTweak_initSRV(e){$("#"+e+"_list_srv > .nitIcon").on("click",function(){selectedIcon=$(this).attr("data-value"),$('input[name="'+e+'[icon]"]').val(selectedIcon),$("#"+e+"_list_srv > .nitIcon.selected").removeClass("selected"),$(this).addClass("selected"),XFANodesIconTweak_updateSrvIconPreview(e)}),$("#"+e+"_small_list_srv > .nitIcon").on("click",function(){selectedIcon=$(this).attr("data-value"),$('input[name="'+e+'[small_icon]"]').val(selectedIcon),$("#"+e+"_small_list_srv > .nitIcon.selected").removeClass("selected"),$(this).addClass("selected"),XFANodesIconTweak_updateSrvIconPreview(e)}),($('input[name="'+e+'[icon]"]').val()||$('input[name="'+e+'[small_icon]"]').val())&&XFANodesIconTweak_updateSrvIconPreview(e)}function XFANodesIconTweak_initSprite(e){$('input[name="'+e+'[icon]"]').change(function(){XFANodesIconTweak_updateSpriteIconPreview(e)}),XFANodesIconTweak_updateSpriteIconPreview(e)}function XFANodesIconTweak_initTypeChangeHandler(){$("input[name='xfa_nit_type']").on("change",XFANodesIconTweak_handleTypeChange),XFANodesIconTweak_handleTypeChange()}function XFANodesIconTweak_handleTypeChange(){switch(selectedVal=parseInt($("input[name='xfa_nit_type']:checked").val()),selectedVal){case 1:$(".xfaNitFa").removeClass("hiddenDiv"),$(".xfaNitSrv").addClass("hiddenDiv"),$(".xfaNitSprite").addClass("hiddenDiv");break;case 2:$(".xfaNitFa").addClass("hiddenDiv"),$(".xfaNitSrv").removeClass("hiddenDiv"),$(".xfaNitSprite").addClass("hiddenDiv");break;case 3:$(".xfaNitFa").addClass("hiddenDiv"),$(".xfaNitSrv").addClass("hiddenDiv"),$(".xfaNitSprite").removeClass("hiddenDiv");break;case 4:default:$(".xfaNitFa").addClass("hiddenDiv"),$(".xfaNitSrv").addClass("hiddenDiv"),$(".xfaNitSprite").addClass("hiddenDiv")}}function XFANodesIconTweak_updateFAIcon1Preview(){XFANodesIconTweak_updateFAIconPreview("fa_icon1")}function XFANodesIconTweak_updateFAIcon2Preview(){XFANodesIconTweak_updateFAIconPreview("fa_icon2")}function XFANodesIconTweak_updateFAIconPreview(e){if($("#"+e+"_preview").empty(),""!=$('input[name="'+e+'[layer_up]"').val()){var a=$("<span></span>");a.addClass("fa-stack"),a.css({"font-size":$('input[name="'+e+'[size]"]').val()+"px"}),(i=$("<i></i>")).addClass("fa"),i.addClass("fa-stack-2x"),i.addClass("fa-fw"),i.addClass($("#"+e+"_layer_down").val()),i.addClass($("#"+e+"_layer_down_transform").val()),i.addClass($("#"+e+"_layer_down_animate").val()),i.css({color:$('input[name="'+e+'[layer_down_color]"]').val()}),i.appendTo(a);var n=$("<i></i>");n.addClass("fa"),n.addClass("fa-stack-1x"),n.addClass("fa-fw"),n.addClass($("#"+e+"_layer_up").val()),n.addClass($("#"+e+"_layer_up_transform").val()),n.addClass($("#"+e+"_layer_up_animate").val()),n.css({color:$('input[name="'+e+'[layer_up_color]"]').val()}),n.appendTo(a),a.appendTo("#"+e+"_preview")}else if(""!=$('input[name="'+e+'[layer_down]"').val()){var i=$("<i></i>");i.addClass("fa"),i.addClass("fa-fw"),i.addClass($("#"+e+"_layer_down").val()),i.addClass($("#"+e+"_layer_down_transform").val()),i.addClass($("#"+e+"_layer_down_animate").val()),i.css({color:$('input[name="'+e+'[layer_down_color]"]').val()}),i.css({"font-size":$('input[name="'+e+'[size]"]').val()+"px"}),i.appendTo("#"+e+"_preview")}}function XFANodesIconTweak_updateSrvIconPreview(e){$('input[name="'+e+'[icon]"]').val()?(preview_size=$('input[name="'+e+'[size]"]').val(),$("#"+e+"_preview").html('<img src="'+$("#"+e+"_preview").attr("data-preview-base-url")+$('input[name="'+e+'[icon]"]').val()+'" style="width: '+preview_size+"px; height:  "+preview_size+'px;"/>')):$("#"+e+"_preview").html(""),$('input[name="'+e+'[small_icon]"]').val()?(preview_size=$('input[name="'+e+'[small_size]"]').val(),$("#"+e+"_small_preview").html('<img src="'+$("#"+e+"_small_preview").attr("data-preview-base-url")+$('input[name="'+e+'[small_icon]"]').val()+'" style="width: '+preview_size+"px; height:  "+preview_size+'px;"/>')):$("#"+e+"_small_preview").html("")}function XFANodesIconTweak_updateSpriteIconPreview(e){$("#"+e+"_preview").empty(),""==$('input[name="'+e+'[x]"]').val()&&$('input[name="'+e+'[x]"]').val(0),""==$('input[name="'+e+'[y]"]').val()&&$('input[name="'+e+'[y]"]').val(0);var a=$("<span></span>");a.css({background:"url('"+$('input[name="'+e+'[icon]"]').val()+"') no-repeat -"+$('input[name="'+e+'[x]"]').val()+"px -"+$('input[name="'+e+'[y]"]').val()+"px"}),a.css({width:$('input[name="'+e+'[size]"]').val()+"px"}),a.css({height:$('input[name="'+e+'[size]"]').val()+"px"}),a.css({float:"left"}),a.appendTo("#"+e+"_preview")}!function(e,a,n,i){"use strict";XF.Element.extend("number-box",{__backup:{step:"_step"},step:function(e){this._step(e),this.$target.parents().hasClass("fa_icon1")?XFANodesIconTweak_updateFAIcon1Preview():this.$target.parents().hasClass("fa_icon1")?XFANodesIconTweak_updateFAIcon2Preview():this.$target.parents().hasClass("srv_icon1")?XFANodesIconTweak_updateSrvIconPreview("srv_icon1"):this.$target.parents().hasClass("srv_icon2")?XFANodesIconTweak_updateSrvIconPreview("srv_icon2"):this.$target.parents().hasClass("sprite_icon1")?XFANodesIconTweak_updateSpriteIconPreview("sprite_icon1"):this.$target.parents().hasClass("sprite_icon2")&&XFANodesIconTweak_updateSpriteIconPreview("sprite_icon2")}}),XFANodesIconTweak_initFA("fa_icon1",XFANodesIconTweak_updateFAIcon1Preview),XFANodesIconTweak_initSRV("srv_icon1"),XFANodesIconTweak_initSprite("sprite_icon1"),e("input[name='fa_icon2[layer_down]']").length&&(XFANodesIconTweak_initFA("fa_icon2",XFANodesIconTweak_updateFAIcon2Preview),XFANodesIconTweak_initSRV("srv_icon2"),XFANodesIconTweak_initSprite("sprite_icon2")),XFANodesIconTweak_initTypeChangeHandler()}(jQuery,window,document);