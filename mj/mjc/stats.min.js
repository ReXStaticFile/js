!function(f,g,h,k){XF.MJCStats=XF.Element.newHandler({options:{data:"| .js-statsData",seriesLabels:"| .js-statsSeriesLabels",legend:"| .js-statsLegend",chart:"| .js-statsChart",maxTicks:9},$chart:null,chart:null,init:function(){this.$chart=XF.findRelativeIf(this.options.chart,this.$target);var a={},d=XF.findRelativeIf(this.options.data,this.$target),b={},c=XF.findRelativeIf(this.options.seriesLabels,this.$target);try{a=f.parseJSON(d.first().html())||{}}catch(e){console.error("Stats data not valid: ",
e);return}try{b=f.parseJSON(c.first().html())||{}}catch(e){console.error("Series labels not valid: ",e)}this.seriesLabels=b;a=this.setupChartData(a);new Chartist.Pie(this.$chart[0],a,{labelInterpolationFnc:function(a){return a[0]},showLabel:!0},[["screen and (min-width: 640px)",{labelDirection:"explode",labelInterpolationFnc:function(a){return a}}]])},setupChartData:function(a){var d=[],b=[],c;for(c in a)d.push(a[c].label),b.push(a[c].total);return{labels:d,series:b}}});XF.Element.register("mjc-stats",
"XF.MJCStats")}(jQuery,window,document);